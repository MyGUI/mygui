

project( MyGUIEngine )

include(PrecompiledHeader)

# define header and source files for the library
set (HEADER_FILES
  include/MyGUI_ActionController.h
  include/MyGUI_Align.h
  include/MyGUI_Allocator.h
  include/MyGUI_Any.h
  include/MyGUI_BiIndexBase.h
  include/MyGUI_ButtonFactory.h
  include/MyGUI_Button.h
  include/MyGUI_CanvasFactory.h
  include/MyGUI_Canvas.h
  include/MyGUI_CastWidget.h
  include/MyGUI_ChildSkinInfo.h
  include/MyGUI_ClipboardManager.h
  include/MyGUI_Colour.h
  include/MyGUI_ComboBoxFactory.h
  include/MyGUI_ComboBox.h
  include/MyGUI_Common.h
  include/MyGUI_ControllerEdgeHide.h
  include/MyGUI_ControllerFadeAlpha.h
  include/MyGUI_ControllerItem.h
  include/MyGUI_ControllerManager.h
  include/MyGUI_ControllerPosition.h
  include/MyGUI_ConvertString.h
  include/MyGUI_ConvertValue.h
  include/MyGUI_CustomAllocator.h
  include/MyGUI_DDContainerFactory.h
  include/MyGUI_DDContainer.h
  include/MyGUI_DDItemInfo.h
  include/MyGUI_Delegate.h
  include/MyGUI_DelegateImplement.h
  include/MyGUI_DelegateManager.h
  include/MyGUI_Diagnostic.h
  include/MyGUI_DynLib.h
  include/MyGUI_DynLibManager.h
  include/MyGUI_EditFactory.h
  include/MyGUI_Edit.h
  include/MyGUI_EditText.h
  include/MyGUI_EnumCharInfo.h
  include/MyGUI_Enumerator.h
  include/MyGUI_EventPair.h
  include/MyGUI_Font.h
  include/MyGUI_FontManager.h
  include/MyGUI_Guid.h
  include/MyGUI_Gui.h
  include/MyGUI.h
  include/MyGUI_HScrollFactory.h
  include/MyGUI_HScroll.h
  include/MyGUI_IBItemInfo.h
  include/MyGUI_ICroppedRectangle.h
  include/MyGUI_IDrawItem.h
  include/MyGUI_ILayerFactory.h
  include/MyGUI_ILayer.h
  include/MyGUI_ILayerItem.h
  include/MyGUI_ILayerNode.h
  include/MyGUI_ImageInfo.h
  include/MyGUI_IManualResourceLoader.h
  include/MyGUI_InputDefine.h
  include/MyGUI_InputManager.h
  include/MyGUI_Instance.h
  include/MyGUI_IRenderItem.h
  include/MyGUI_IRenderQueueListener.h
  include/MyGUI_IRenderResource.h
  include/MyGUI_IResource.h
  include/MyGUI_ISubWidgetFactory.h
  include/MyGUI_ISubWidget.h
  include/MyGUI_ISubWidgetRect.h
  include/MyGUI_ISubWidgetText.h
  include/MyGUI_ItemBoxFactory.h
  include/MyGUI_ItemBox.h
  include/MyGUI_ITexture.h
  include/MyGUI_IUnlinkWidget.h
  include/MyGUI_IVertexBuffer.h
  include/MyGUI_IViewport.h
  include/MyGUI_IWidgetCreator.h
  include/MyGUI_IWidgetFactory.h
  include/MyGUI_LanguageManager.h
  include/MyGUI_LayerItem.h
  include/MyGUI_LayerManager.h
  include/MyGUI_LayerNode.h
  include/MyGUI_LayoutManager.h
  include/MyGUI_ListBoxFactory.h
  include/MyGUI_ListBox.h
  include/MyGUI_ListCtrlFactory.h
  include/MyGUI_ListCtrl.h
  include/MyGUI_ListFactory.h
  include/MyGUI_List.h
  include/MyGUI_LogManager.h
  include/MyGUI_LogStream.h
  include/MyGUI_Macros.h
  include/MyGUI_MainSkin.h
  include/MyGUI_MaskPickInfo.h
  include/MyGUI_MenuBarFactory.h
  include/MyGUI_MenuBar.h
  include/MyGUI_MenuCtrlFactory.h
  include/MyGUI_MenuCtrl.h
  include/MyGUI_MenuItemFactory.h
  include/MyGUI_MenuItem.h
  include/MyGUI_MenuItemType.h
  include/MyGUI_MessageFactory.h
  include/MyGUI_Message.h
  include/MyGUI_MessageStyle.h
  include/MyGUI_MultiListFactory.h
  include/MyGUI_MultiList.h
  include/MyGUI_OverlappedLayerFactory.h
  include/MyGUI_OverlappedLayer.h
  include/MyGUI_Platform.h
  include/MyGUI_Plugin.h
  include/MyGUI_PluginManager.h
  include/MyGUI_PointerInfo.h
  include/MyGUI_PointerManager.h
  include/MyGUI_PopupMenuFactory.h
  include/MyGUI_PopupMenu.h
  include/MyGUI_Precompiled.h
  include/MyGUI_Prerequest.h
  include/MyGUI_ProgressFactory.h
  include/MyGUI_Progress.h
  include/MyGUI_RawRect.h
  include/MyGUI_RenderBoxFactory.h
  include/MyGUI_RenderBox.h
  include/MyGUI_RenderFormat.h
  include/MyGUI_RenderItem.h
  include/MyGUI_RenderManager.h
  include/MyGUI_RenderOut.h
  include/MyGUI_ResourceImageSet.h
  include/MyGUI_ResourceManager.h
  include/MyGUI_RotatingSkin.h
  include/MyGUI_Rtti.h
  include/MyGUI_ScrollViewBase.h
  include/MyGUI_ScrollViewFactory.h
  include/MyGUI_ScrollView.h
  include/MyGUI_SimpleLayerFactory.h
  include/MyGUI_SimpleLayer.h
  include/MyGUI_SimpleText.h
  include/MyGUI_SkinManager.h
  include/MyGUI_StaticImageFactory.h
  include/MyGUI_StaticImage.h
  include/MyGUI_StaticTextFactory.h
  include/MyGUI_StaticText.h
  include/MyGUI_SubSkin.h
  include/MyGUI_SubWidgetBinding.h
  include/MyGUI_SubWidgetManager.h
  include/MyGUI_TabFactory.h
  include/MyGUI_Tab.h
  include/MyGUI_TabItemFactory.h
  include/MyGUI_TabItem.h
  include/MyGUI_TCoord.h
  include/MyGUI_TextChangeHistory.h
  include/MyGUI_TextIterator.h
  include/MyGUI_TileRect.h
  include/MyGUI_Timer.h
  include/MyGUI_TPoint.h
  include/MyGUI_TRect.h
  include/MyGUI_TSize.h
  include/MyGUI_Types.h
  include/MyGUI_UString.h
  include/MyGUI_Utility.h
  include/MyGUI_Version.h
  include/MyGUI_VScrollFactory.h
  include/MyGUI_VScroll.h
  include/MyGUI_WidgetDefines.h
  include/MyGUI_WidgetEvent.h
  include/MyGUI_WidgetFactory.h
  include/MyGUI_Widget.h
  include/MyGUI_WidgetManager.h
  include/MyGUI_WidgetSkinInfo.h
  include/MyGUI_WidgetStyle.h
  include/MyGUI_WidgetToolTip.h
  include/MyGUI_WidgetTranslate.h
  include/MyGUI_WidgetUserData.h
  include/MyGUI_WindowFactory.h
  include/MyGUI_Window.h
  include/MyGUI_XmlDocument.h
)

set (SOURCE_FILES
  src/MyGUI_ActionController.cpp
  src/MyGUI_Any.cpp
  src/MyGUI_Button.cpp
  src/MyGUI_ButtonFactory.cpp
  src/MyGUI_Canvas.cpp
  src/MyGUI_CanvasFactory.cpp
  src/MyGUI_ClipboardManager.cpp
  src/MyGUI_Colour.cpp
  src/MyGUI_ComboBox.cpp
  src/MyGUI_ComboBoxFactory.cpp
  src/MyGUI_ControllerEdgeHide.cpp
  src/MyGUI_ControllerFadeAlpha.cpp
  src/MyGUI_ControllerManager.cpp
  src/MyGUI_ControllerPosition.cpp
  src/MyGUI_Convert.cpp
  src/MyGUI_DDContainer.cpp
  src/MyGUI_DDContainerFactory.cpp
  src/MyGUI_DelegateManager.cpp
  src/MyGUI_DocArray.cpp
  src/MyGUI_DocType.cpp
  src/MyGUI_DynLib.cpp
  src/MyGUI_DynLibManager.cpp
  src/MyGUI_Edit.cpp
  src/MyGUI_EditFactory.cpp
  src/MyGUI_EditText.cpp
  src/MyGUI_Font.cpp
  src/MyGUI_FontManager.cpp
  src/MyGUI_Gui.cpp
  src/MyGUI_Guid.cpp
  src/MyGUI_HScroll.cpp
  src/MyGUI_HScrollFactory.cpp
  src/MyGUI_InputManager.cpp
  src/MyGUI_ItemBox.cpp
  src/MyGUI_ItemBoxFactory.cpp
  src/MyGUI_IWidgetCreator.cpp
  src/MyGUI_LanguageManager.cpp
  src/MyGUI_LayerItem.cpp
  src/MyGUI_LayerManager.cpp
  src/MyGUI_LayerNode.cpp
  src/MyGUI_LayoutManager.cpp
  src/MyGUI_ListBox.cpp
  src/MyGUI_ListBoxFactory.cpp
  src/MyGUI_List.cpp
  src/MyGUI_ListCtrl.cpp
  src/MyGUI_ListCtrlFactory.cpp
  src/MyGUI_ListFactory.cpp
  src/MyGUI_LogManager.cpp
  src/MyGUI_LogStream.cpp
  src/MyGUI_MainSkin.cpp
  src/MyGUI_MaskPickInfo.cpp
  src/MyGUI_MenuBar.cpp
  src/MyGUI_MenuBarFactory.cpp
  src/MyGUI_MenuCtrl.cpp
  src/MyGUI_MenuCtrlFactory.cpp
  src/MyGUI_MenuItem.cpp
  src/MyGUI_MenuItemFactory.cpp
  src/MyGUI_Message.cpp
  src/MyGUI_MessageFactory.cpp
  src/MyGUI_MultiList.cpp
  src/MyGUI_MultiListFactory.cpp
  src/MyGUI_OverlappedLayer.cpp
  src/MyGUI_PluginManager.cpp
  src/MyGUI_PointerManager.cpp
  src/MyGUI_PopupMenu.cpp
  src/MyGUI_PopupMenuFactory.cpp
  src/MyGUI_Precompiled.cpp
  src/MyGUI_Progress.cpp
  src/MyGUI_ProgressFactory.cpp
  src/MyGUI_RawRect.cpp
  src/MyGUI_RenderBox.cpp
  src/MyGUI_RenderBoxFactory.cpp
  src/MyGUI_RenderItem.cpp
  src/MyGUI_RenderManager.cpp
  src/MyGUI_RenderOut.cpp
  src/MyGUI_ResourceImageSet.cpp
  src/MyGUI_ResourceManager.cpp
  src/MyGUI_RotatingSkin.cpp
  src/MyGUI_ScrollViewBase.cpp
  src/MyGUI_ScrollView.cpp
  src/MyGUI_ScrollViewFactory.cpp
  src/MyGUI_SimpleLayer.cpp
  src/MyGUI_SimpleText.cpp
  src/MyGUI_SkinManager.cpp
  src/MyGUI_StaticImage.cpp
  src/MyGUI_StaticImageFactory.cpp
  src/MyGUI_StaticText.cpp
  src/MyGUI_StaticTextFactory.cpp
  src/MyGUI_SubSkin.cpp
  src/MyGUI_SubWidgetManager.cpp
  src/MyGUI_Tab.cpp
  src/MyGUI_TabFactory.cpp
  src/MyGUI_TabItem.cpp
  src/MyGUI_TabItemFactory.cpp
  src/MyGUI_TextIterator.cpp
  src/MyGUI_TileRect.cpp
  src/MyGUI_Timer.cpp
  src/MyGUI_VScroll.cpp
  src/MyGUI_VScrollFactory.cpp
  src/MyGUI_Widget.cpp
  src/MyGUI_WidgetFactory.cpp
  src/MyGUI_WidgetManager.cpp
  src/MyGUI_Window.cpp
  src/MyGUI_WindowFactory.cpp
  src/MyGUI_XmlDocument.cpp
)

# setup MyGUIEngine target
add_library(MyGUIEngine ${MYGUI_LIB_TYPE} ${PREC_HEADER} ${HEADER_FILES} ${SOURCE_FILES})
set_target_properties(MyGUIEngine PROPERTIES VERSION ${MYGUI_VERSION} SOVERSION ${MYGUI_VERSION_MAJOR})
if (APPLE)
  set_target_properties(MyGUIEngine PROPERTIES	FRAMEWORK TRUE)
  set_target_properties(MyGUIEngine PROPERTIES PUBLIC_HEADER "${HEADER_FILES}" )
  # Framework is called 'Ogre'
  set_target_properties(MyGUIEngine PROPERTIES	OUTPUT_NAME MyGUI)
  # Set the INSTALL_PATH so that Frameworks can be local
  set_target_properties(MyGUIEngine
     PROPERTIES BUILD_WITH_INSTALL_RPATH 1
     INSTALL_NAME_DIR "@executable_path/../Frameworks"
  )
endif()
target_link_libraries(MyGUIEngine
  ${FREETYPE_LIBRARIES}
  ${OGRE_LIBRARIES}
)

# specify a precompiled header to use
use_precompiled_header(MyGUIEngine 
  "${CMAKE_CURRENT_SOURCE_DIR}/include/MyGUI_Precompiled.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/src/MyGUI_Precompiled.cpp"
)

# install MyGUIEngine
mygui_config_lib(MyGUIEngine)
install(FILES ${HEADER_FILES}
  DESTINATION include/MyGUI
)